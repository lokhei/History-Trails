<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gallery 3</title>
    <link rel="stylesheet" href="./myStyle.css">
</head>
<body>

<div id = "gallery3"></div>

<script>
    let url = 'https://opendata.bristol.gov.uk/api/records/1.0/search/?dataset=open-data-gallery-3-european-old-masters&q=&rows=115&sort=-order_of_appearance&facet=medium&facet=object_type';
    fetch(url)
        .then(res => res.json())
        .then((out) => {

            document.getElementById("gallery3").innerHTML =
                `
                 <h1 class="gallery3-title"> GALLERY 3 </h1>

                 ${out.records.map(function (obj) {
                     if (obj.fields.gallery == "Gallery 3 - European Old Masters" && obj.fields.image_of_object) {
                         return `
                        <div class="object">
                            <img class="object-image" src="/images/${obj.fields.image_of_object.id}.jpg"/>
                            <h2 class="title-of-object">${obj.fields.title_of_object}</h2>

                        </div>

                     `
                     }
                }).join('')}
                 <p>There are ${out.nhits} objects in all the galleries.</p>

                `
        })
        .catch(err => { throw err });
</script>

</body>
</html>